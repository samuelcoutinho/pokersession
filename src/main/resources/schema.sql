CREATE TABLE DECK_TYPE (
  ID_DECK_TYPE INT IDENTITY  PRIMARY KEY,
  NAME VARCHAR(30) NOT NULL
);

CREATE TABLE SESSION (
  ID_SESSION INT IDENTITY  PRIMARY KEY,
  TITLE VARCHAR(100) NOT NULL,
  ID_DECK_TYPE INT NOT NULL,
  CONSTRAINT DECK_TYPE_FK1 FOREIGN KEY(ID_DECK_TYPE) REFERENCES DECK_TYPE(ID_DECK_TYPE)
  
);


CREATE TABLE DECK_TYPE_VALUES (
  ID_DECK_TYPE_VALUES INT IDENTITY  PRIMARY KEY,
  ID_DECK_TYPE INT NOT NULL,
  VALUE NUMBER NOT NULL,
  CONSTRAINT DECK_TYPE_VALUES_FK1 FOREIGN KEY(ID_DECK_TYPE) REFERENCES DECK_TYPE(ID_DECK_TYPE)
  
);

CREATE TABLE USER (
  ID_USER INT IDENTITY  PRIMARY KEY,
  NAME VARCHAR(50) NOT NULL,
  NICKNAME VARCHAR(50) NOT NULL,
  ID_SESSION INT NOT NULL,
  CONSTRAINT SESSION_FK2 FOREIGN KEY(ID_SESSION) REFERENCES SESSION(ID_SESSION)
);



CREATE TABLE USER_STORY (
  ID_USER_STORY INT IDENTITY  PRIMARY KEY,
  DESCRIPTION VARCHAR(100) NOT NULL,
  STATUS VARCHAR(10) NOT NULL,
  ID_SESSION INT NOT NULL,
  CONSTRAINT SESSION_FK1 FOREIGN KEY(ID_SESSION) REFERENCES SESSION(ID_SESSION)
  
);


CREATE TABLE VOTES_USER_STORY (
  ID_VOTES_USER_STORY INT IDENTITY  PRIMARY KEY,
  ID_SESSION INT NOT NULL,
  ID_USER INT NOT NULL,
  ID_USER_STORY INT NOT NULL,
  VALUE NUMBER NOT NULL,
  CONSTRAINT SESSION_FK3 FOREIGN KEY(ID_SESSION) REFERENCES SESSION(ID_SESSION),
  CONSTRAINT USER_FK2 FOREIGN KEY(ID_USER) REFERENCES USER(ID_USER),
  CONSTRAINT USER_STORY_FK3 FOREIGN KEY(ID_USER_STORY) REFERENCES USER_STORY(ID_USER_STORY)

);



